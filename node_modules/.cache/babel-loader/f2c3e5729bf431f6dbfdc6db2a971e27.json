{"ast":null,"code":"var _jsxFileName = \"/home/carol/Projetos/sd-024-b-project-trivia-react-redux/src/pages/Feedback.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport FeedbackHeader from '../components/FeedbackHeader';\nimport { resetScore } from '../redux/actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Feedback extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      disableButtons: false\n    };\n\n    this.handleButton = _ref => {\n      let {\n        target: {\n          value\n        }\n      } = _ref;\n      this.setState({\n        disableButtons: true\n      });\n      const {\n        name,\n        score,\n        reset\n      } = this.props;\n      const storedRanking = JSON.parse(localStorage.getItem('ranking')) || [];\n      const rankingData = [...storedRanking, {\n        name,\n        score\n      }];\n      const sortedData = rankingData.sort((a, b) => b.score - a.score);\n      reset();\n      localStorage.setItem('ranking', JSON.stringify(sortedData));\n      const {\n        history\n      } = this.props;\n      history.push(value);\n    };\n  }\n\n  render() {\n    const {\n      disableButtons\n    } = this.state;\n    const {\n      assertions,\n      score,\n      history\n    } = this.props;\n    const acertos = 3;\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(FeedbackHeader, {\n        history: history,\n        handleButton: this.handleButton,\n        disableButtons: disableButtons\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        \"data-testid\": \"feedback-text\",\n        children: assertions >= acertos ? 'Well Done!' : 'Could be better...'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          \"data-testid\": \"feedback-total-question\",\n          children: assertions\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          \"data-testid\": \"feedback-total-score\",\n          children: score\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        value: \"/\",\n        type: \"button\",\n        onClick: this.handleButton,\n        \"data-testid\": \"btn-play-again\",\n        disabled: disableButtons,\n        children: \"Play Again\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  name: state.player.name,\n  assertions: state.player.assertions,\n  score: state.player.score\n});\n\nconst mapDispatchToProps = dispatch => ({\n  reset: () => dispatch(resetScore())\n});\n\nFeedback.propTypes = {\n  name: PropTypes.string,\n  assertions: PropTypes.number,\n  history: PropTypes.shape()\n}.isRequired;\nexport default connect(mapStateToProps, mapDispatchToProps)(Feedback);","map":{"version":3,"names":["React","connect","PropTypes","FeedbackHeader","resetScore","Feedback","Component","state","disableButtons","handleButton","target","value","setState","name","score","reset","props","storedRanking","JSON","parse","localStorage","getItem","rankingData","sortedData","sort","a","b","setItem","stringify","history","push","render","assertions","acertos","mapStateToProps","player","mapDispatchToProps","dispatch","propTypes","string","number","shape","isRequired"],"sources":["/home/carol/Projetos/sd-024-b-project-trivia-react-redux/src/pages/Feedback.js"],"sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport FeedbackHeader from '../components/FeedbackHeader';\nimport { resetScore } from '../redux/actions';\n\nclass Feedback extends React.Component {\n  state = {\n    disableButtons: false,\n  };\n\n  handleButton = ({ target: { value } }) => {\n    this.setState({ disableButtons: true });\n    const { name, score, reset } = this.props;\n    const storedRanking = JSON.parse(localStorage.getItem('ranking')) || [];\n    const rankingData = [...storedRanking, { name, score }];\n    const sortedData = rankingData.sort((a, b) => b.score - a.score);\n    reset();\n    localStorage.setItem('ranking', JSON.stringify(sortedData));\n    const { history } = this.props;\n    history.push(value);\n  };\n\n  render() {\n    const { disableButtons } = this.state;\n    const { assertions, score, history } = this.props;\n    const acertos = 3;\n    return (\n      <section>\n        <FeedbackHeader\n          history={ history }\n          handleButton={ this.handleButton }\n          disableButtons={ disableButtons }\n        />\n        <h1 data-testid=\"feedback-text\">\n          { assertions >= acertos ? 'Well Done!' : 'Could be better...'}\n        </h1>\n        <div>\n          <p data-testid=\"feedback-total-question\">{ assertions }</p>\n          <p data-testid=\"feedback-total-score\">{ score }</p>\n        </div>\n        <button\n          value=\"/\"\n          type=\"button\"\n          onClick={ this.handleButton }\n          data-testid=\"btn-play-again\"\n          disabled={ disableButtons }\n        >\n          Play Again\n        </button>\n      </section>\n    );\n  }\n}\nconst mapStateToProps = (state) => ({\n  name: state.player.name,\n  assertions: state.player.assertions,\n  score: state.player.score,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  reset: () => dispatch(resetScore()),\n});\n\nFeedback.propTypes = {\n  name: PropTypes.string,\n  assertions: PropTypes.number,\n  history: PropTypes.shape(),\n}.isRequired;\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Feedback);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}